(this["webpackJsonpweather-report"]=this["webpackJsonpweather-report"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,c){},,function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(8),r=c.n(a),i=(c(13),c(4)),o=c.n(i),l=c(7),u=c(3),d=c(2),j=c.n(d),h=(c(15),c(0)),m={temperature:Object(h.jsx)("img",{className:"icon-block__icon",src:"/free-icon-temperature.png"}),pressure:Object(h.jsx)("img",{className:"icon-block__icon",src:"/free-icon-low-tide-4064379.png"}),wind:Object(h.jsx)("img",{className:"icon-block__icon",src:"free-icon-windy.png"}),cloud:Object(h.jsx)("img",{className:"icon-block__icon",src:"/free-icon-cloud.png"}),humidity:Object(h.jsx)("img",{className:"icon-block__icon",src:"/free-icon-humidity.png"})},b=function(e){var t=e.className,c=e.size,n=e.text,s=e.icon;return Object(h.jsxs)("div",{className:j()(t,"icon-block","icon-block--".concat(c)),children:[m[s],Object(h.jsx)("div",{className:"icon-block__text",children:n})]})},g=(c(17),function(e){var t=e.daysArr;return Object(h.jsx)("div",{className:"forecast",children:t.length>0?t.map((function(e){var t=e[0].dt_txt,c=e.map((function(e){return e.weather[0].description})).reduce((function(e,t){return e[t]?e[t]+=1:e[t]=1,e}),{}),n=(Object.keys(c).reduce((function(e,t){return c[e]>c[t]?e:t}),""),e.map((function(e){return e.clouds.all})).reduce((function(e,t){return e+t}),0)/e.length),s=e.map((function(e){return e.main.temp})).reduce((function(e,t){return e+t}),0)/e.length,a=e.map((function(e){return e.main.humidity})).reduce((function(e,t){return e+t}),0)/e.length,r=e.map((function(e){return e.wind.speed})).reduce((function(e,t){return e+t}),0)/e.length,i=e.map((function(e){return e.main.pressure})).reduce((function(e,t){return e+t}),0)/e.length;return Object(h.jsxs)("div",{className:"forecast-box",children:[Object(h.jsx)("div",{className:"forecast__date",children:t.split(" ")[0].substr(5).replace("-",".")}),Object(h.jsx)(b,{size:"small",icon:"temperature",text:"".concat(Math.round(s)," \xb0c")}),Object(h.jsx)(b,{size:"small",icon:"cloud",text:"".concat(Math.round(n)," %")}),Object(h.jsx)(b,{size:"small",icon:"pressure",text:"".concat(Math.round(.75*i)," \u043c\u043c")}),Object(h.jsx)(b,{size:"small",icon:"humidity",text:"".concat(Math.round(a)," %")}),Object(h.jsx)(b,{size:"small",icon:"wind",text:"".concat(Math.round(r)," \u043c/\u0441")})]})})):Object(h.jsx)("div",{children:"\u0441\u0435\u0433\u043e\u0434\u043d\u044f \u0431\u0435\u0437 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u043e\u0432"})})}),x=c(5),O=(c(18),function(){var e,t=Object(n.useContext)(y),c=t.theme,s=t.setTheme,a=function(){return s("dark"===c?"light":"dark")};return Object(h.jsxs)("div",{className:"toggler",children:[Object(h.jsx)("svg",{className:"light"===c?"toggler__day-icon--light":"toggler__day-icon--dark",fill:"#000000",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsx)("path",{d:"M 11 0 L 11 3 L 13 3 L 13 0 L 11 0 z M 4.2226562 2.8085938 L 2.8085938 4.2226562 L 4.9296875 6.34375 L 6.34375 4.9296875 L 4.2226562 2.8085938 z M 19.777344 2.8085938 L 17.65625 4.9296875 L 19.070312 6.34375 L 21.191406 4.2226562 L 19.777344 2.8085938 z M 12 5 C 8.1458514 5 5 8.1458514 5 12 C 5 15.854149 8.1458514 19 12 19 C 15.854149 19 19 15.854149 19 12 C 19 8.1458514 15.854149 5 12 5 z M 12 7 C 14.773268 7 17 9.2267316 17 12 C 17 14.773268 14.773268 17 12 17 C 9.2267316 17 7 14.773268 7 12 C 7 9.2267316 9.2267316 7 12 7 z M 0 11 L 0 13 L 3 13 L 3 11 L 0 11 z M 21 11 L 21 13 L 24 13 L 24 11 L 21 11 z M 4.9296875 17.65625 L 2.8085938 19.777344 L 4.2226562 21.191406 L 6.34375 19.070312 L 4.9296875 17.65625 z M 19.070312 17.65625 L 17.65625 19.070312 L 19.777344 21.191406 L 21.191406 19.777344 L 19.070312 17.65625 z M 11 21 L 11 24 L 13 24 L 13 21 L 11 21 z"})}),Object(h.jsxs)("div",{class:"button-con",children:[Object(h.jsx)("label",{for:"toggle-theme"}),Object(h.jsx)("input",(e={className:"toggle"},Object(x.a)(e,"className","light"===c?"toggle--light":"toggle--dark"),Object(x.a)(e,"id","toggle-theme"),Object(x.a)(e,"type","checkbox"),e)),Object(h.jsx)("label",{className:"toggle-button",for:"toggle-theme",onClick:function(){return s(a)}}),Object(h.jsx)("label",{for:"toggle-theme"})]}),Object(h.jsx)("svg",{className:"light"===c?"toggler__night-icon--light":"toggler__night-icon--dark",version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","\xdf":!0,"enable-background":"new 0 0 512 512",children:Object(h.jsx)("g",{children:Object(h.jsx)("g",{children:Object(h.jsx)("path",{d:"m275.4,500.7c-135,0-244.7-109.8-244.7-244.7 1.06581e-14-134.9 109.8-244.7 244.7-244.7 8.2,0 16.4,0.4 24.6,1.2 7.2,0.7 13.5,5.2 16.5,11.7s2.4,14.2-1.6,20.2c-23,33.8-35.2,73.3-35.2,114.2 0,105 78.7,192.2 183.2,202.6 7.2,0.7 13.5,5.2 16.5,11.7 3.1,6.5 2.4,14.2-1.6,20.2-45.8,67.4-121.4,107.6-202.4,107.6zm-12.5-448c-106.5,6.5-191.2,95.2-191.2,203.3 1.42109e-14,112.3 91.4,203.7 203.7,203.7 56.4,0 109.6-23.4 147.8-63.7-46.2-11.7-88.1-36.8-120.8-72.6-41.1-45.2-63.8-103.6-63.8-164.6 0.1-37.1 8.4-73.2 24.3-106.1z"})})})})]})}),f=(c(19),function(e){var t=Object(n.useContext)(y),c=t.theme,s=(t.setTheme,e.setCity),a=e.city,r=e.search;return Object(h.jsxs)("div",{className:"search",children:[Object(h.jsx)("input",{type:"text",className:"light"===c?"search__bar--light":"search__bar--dark",placeholder:"\u0418\u0449\u0435\u043c \u043f\u043e\u0433\u043e\u0434\u043e\u0432\u043e\u0435...",onChange:function(e){return s(e.target.value)},value:a,onKeyPress:r}),Object(h.jsx)("svg",{className:"light"===c?"search__button--light":"search__button--dark",onClick:r,"enable-background":"new 0 0 32 32",id:"Glyph",version:"1.1",viewBox:"0 0 32 32",children:Object(h.jsx)("path",{d:"M27.414,24.586l-5.077-5.077C23.386,17.928,24,16.035,24,14c0-5.514-4.486-10-10-10S4,8.486,4,14  s4.486,10,10,10c2.035,0,3.928-0.614,5.509-1.663l5.077,5.077c0.78,0.781,2.048,0.781,2.828,0  C28.195,26.633,28.195,25.367,27.414,24.586z M7,14c0-3.86,3.14-7,7-7s7,3.14,7,7s-3.14,7-7,7S7,17.86,7,14z",id:"XMLID_223_"})})]})}),p=(c(20),function(e){var t=e.setCity,c=e.search,n=e.city;return Object(h.jsxs)("header",{children:[Object(h.jsx)(f,{setCity:t,search:c,city:n}),Object(h.jsx)(O,{})]})}),_=(c(21),function(e){var t=e.className,c=e.weather,n=e.msToTime;return Object(h.jsxs)("div",{className:j()(t,"length-day"),children:[Object(h.jsxs)("div",{className:"length-day__sunrise sunrise",children:[Object(h.jsx)("img",{className:"length-day__icon",src:"/free-icon-sunrise.png"}),Object(h.jsx)("div",{children:n(c.sys.sunrise)})]}),Object(h.jsxs)("div",{className:"length-day__sunset sunset",children:[Object(h.jsx)("img",{className:"length-day__icon",src:"/free-icon-sunset.png"}),Object(h.jsx)("div",{children:n(c.sys.sunset)})]})]})}),v=(c(22),function(e){e((new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))}),w=function(e){var t=e.className,c=e.format_date,s=Object(n.useState)(""),a=Object(u.a)(s,2),r=a[0],i=a[1];return Object(n.useEffect)((function(){v(i);var e=setInterval((function(){v(i)}),1e3);return function(){clearInterval(e)}}),[]),Object(h.jsxs)("div",{className:j()(t,"time"),children:[Object(h.jsx)("div",{className:"time-text",children:r}),Object(h.jsx)("div",{className:"time-date",children:c(new Date)})]})},N=(c(23),function(e){var t=e.className,c=e.weather,n=e.format_date,s=e.msToTime;return"undefined"!==typeof c.main?Object(h.jsxs)("div",{className:j()(t,"today-weather"),children:[Object(h.jsxs)("div",{className:"today-weather__main",children:[Object(h.jsxs)("div",{className:"today-weather__now weather-now",children:[Object(h.jsxs)("div",{className:"today-weather__location",children:[c.name,", ",c.weather[0].description]}),Object(h.jsxs)("div",{className:"temperature-box",children:[Object(h.jsxs)("div",{className:"weather-now__temp temperature",children:[Object(h.jsx)("img",{className:"temperature__icon",src:"http://openweathermap.org/img/wn/".concat(c.weather[0].icon,".png")}),Object(h.jsxs)("div",{className:"temperature__text",children:[Math.round(c.main.temp),"\xb0c"]})]}),Object(h.jsxs)("div",{className:"weather-now__feels",children:["\u043e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a ",Math.round(c.main.feels_like),"\xb0c"]})]})]}),Object(h.jsxs)("div",{className:"today-weather__box weather-box",children:[Object(h.jsx)(b,{className:"weather-box__elem",size:"large",icon:"pressure",text:"".concat(Math.round(.75*c.main.pressure)," \u043c\u043c")}),Object(h.jsx)(b,{className:"weather-box__elem",size:"large",icon:"cloud",text:"".concat(c.clouds.all,"%")}),Object(h.jsx)(b,{className:"weather-box__elem",size:"large",icon:"humidity",text:"".concat(c.main.humidity,"%")}),Object(h.jsx)(b,{className:"weather-box__elem",size:"large",icon:"wind",text:"".concat(Math.round(c.wind.speed)," \u043c/\u0441, ").concat(Math.round(5*c.wind.speed/9),"\xb0c")})]})]}),Object(h.jsxs)("div",{className:"today-weather__secondary",children:[Object(h.jsx)(w,{format_date:n,className:"today-weather__time"}),Object(h.jsx)(_,{msToTime:s,weather:c})]})]}):"city not found"===c.message?Object(h.jsx)("div",{className:"start",children:"\u043e\u0448\u0438\u0431\u043a\u0430"}):Object(h.jsx)("div",{className:"start"})}),y=(c(24),s.a.createContext()),L="7ec4c505607b4b73c0ba74beffef58ca",k="http://api.openweathermap.org/data/2.5/";var M=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)({}),r=Object(u.a)(a,2),i=r[0],d=r[1],j=Object(n.useState)({}),m=Object(u.a)(j,2),b=m[0],x=m[1],O=Object(n.useState)("light"),f=Object(u.a)(O,2),_=f[0],v=f[1],w=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key&&t.target!==document.querySelector(".search__button--light")&&t.target!==document.querySelector(".search__button--dark")){e.next=16;break}return e.next=3,fetch("".concat(k,"weather?q=").concat(c,"&units=metric&lang=ru&appid=").concat(L));case 3:return n=e.sent,e.next=6,fetch("".concat(k,"forecast?q=").concat(c,"&units=metric&lang=ru&appid=").concat(L));case 6:return a=e.sent,e.next=9,n.json();case 9:return r=e.sent,e.next=12,a.json();case 12:i=e.sent,d(r),x(i),s("");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(Object(l.a)(o.a.mark((function e(){var t,c,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(k,"weather?q=\u041c\u043e\u0441\u043a\u0432\u0430&units=metric&lang=ru&appid=").concat(L));case 2:return t=e.sent,e.next=5,fetch("".concat(k,"forecast?q=\u041c\u043e\u0441\u043a\u0432\u0430&units=metric&lang=ru&appid=").concat(L));case 5:return c=e.sent,e.next=8,t.json();case 8:return n=e.sent,e.next=11,c.json();case 11:a=e.sent,d(n),x(a),s("\u041c\u043e\u0441\u043a\u0432\u0430");case 15:case"end":return e.stop()}}),e)}))),[]);var M=new Date;M.setHours(23),M.setMinutes(59),M.setSeconds(59);var z=[],C=[];if(b&&b.list&&b.list.length>0){for(var T=0;T<b.list.length;T++){var S=b.list[T];new Date(S.dt_txt).getTime()<M.getTime()?C.push(S):(M.setHours(M.getHours()+24),z.push(C),(C=[]).push(S))}C.length>0&&z.push(C)}return Object(h.jsx)(y.Provider,{value:{theme:_,setTheme:v},children:Object(h.jsx)("div",{className:"theme--".concat(_),children:Object(h.jsxs)("div",{className:"weather-app",children:[Object(h.jsx)(p,{setCity:s,search:w,city:c}),Object(h.jsx)(N,{className:"weather-app__today",weather:i,format_date:function(e){var t=["\u0432\u0441,","\u043f\u043d,","\u0432\u0442,","\u0441\u0440,","\u0447\u0442,","\u043f\u0442,","\u0441\u0431,"][e.getDay()],c=e.getDate(),n=["\u044f\u043d\u0432","\u0444\u0435\u0432","\u043c\u0430\u0440","\u0430\u043f\u0440","\u043c\u0430\u044f","\u0438\u044e\u043d","\u0438\u044e\u043b","\u0430\u0432\u0433","\u0441\u0435\u043d","\u043e\u043a\u0442","\u043d\u043e\u044f","\u0434\u0435\u043a"][e.getMonth()],s=e.getFullYear();return"".concat(t," ").concat(c," ").concat(n," ").concat(s)},msToTime:function(e){var t=new Date(1e3*e);return(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())}}),Object(h.jsx)(g,{daysArr:z})]})})})};r.a.render(Object(h.jsx)(M,{}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.1befa650.chunk.js.map